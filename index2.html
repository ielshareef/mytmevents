<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>My Events</title>

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
	<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

</head>

<body>
	<script>
	function processLogic() {
		var tm = {
			type:"GET",
			url: "",
			success: function(json) {
				console.log(json);
			},
			error: function(xhr, status, err) {
				console.log(status);
			}
		}
  	  	tm.url = "https://app.ticketmaster.com/discovery/v2/events.json?size=500&apikey=7elxdku9GGG5k8j0Xm8KWdANDgecHMV0&source=" + document.getElementById("source").value;
  
	  	tm.success = function(json) {
		  if (json._embedded && json._embedded.events) {
			  var dv = document.getElementById('content');
			  var dd = json._embedded.events;
			  for (var i=0; i < dd.length; i++) {
				  var dn = false;
				  for (var k=0; k < dd[i].images.length; k++) {
					  if (!dd[i].images[k].fallback && !dn) {
						  dn = true;
						  var nd = document.createElement("span");
						  var cn = "<a href='" + dd[i].url + "' target='_blank'><img src='" + dd[i].images[k].url + "' width='320' height='240' /></a>";
						  console.log(cn);
						  nd.innerHTML = cn;
						  dv.appendChild(nd);
					  }
				  }
			  }
		  }
	  }
	  $.ajax(tm);
  }
	</script>
	<div><input id="source" value="frontgate" /><button onclick="processLogic()">Get me images!</button></div>
	<div id="content"></div>
</body>
</html>